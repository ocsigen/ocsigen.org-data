=Module <<a_api_type subproject="server" | module Os_connect_phone >> =
<<pre class="ocsforge_color odocwiki_code"|<<span class="ocsforge_color_keyword"|module>> <<span class="ocsforge_color_uid"|<<span class="ocsforge_color_uid"|Os_connect_phone>>>> <<span class="ocsforge_color_delimiter"|~:>> <<span class="ocsforge_color_keyword"|sig>><<a_api subproject="server" text=".." | module Os_connect_phone >><<span class="ocsforge_color_keyword"|end>>>>~To be used for signalling errors with ~S~M~S transmission

----
<<pre class="ocsforge_color odocwiki_code" id="TYPEsms_error_core"|<<span class="ocsforge_color_keyword"|type>> <<span class="odocwiki_name"|sms~_error~_core>> <<span class="ocsforge_color_delimiter"|~=>> <<span class="odocwiki_type"|[ `Invalid_number | `Limit | `Send | `Unknown ]>> >><<pre id="VALset_send_sms_handler" class="ocsforge_color odocwiki_code"|<<span class="ocsforge_color_keyword"|val>> <<span class="odocwiki_name"|set~_send~_sms~_handler>> <<span class="ocsforge_color_delimiter"|~:>> <<span class="odocwiki_type"|\\  <<span class="ocsforge_color_delimiter"| ( >><<span class="ocsforge_color_label"| number: >>string <<span class="ocsforge_color_delimiter"| -> >>\\   string <<span class="ocsforge_color_delimiter"| -> >>\\   <<span class="ocsforge_color_delimiter"| ( >>unit, <<a_api subproject="server" text="sms_error_core" | type Os_connect_phone.sms_error_core >><<span class="ocsforge_color_delimiter"| ) >> <<span class="ocsforge_color_uid"|Pervasives>><<span class="ocsforge_color_delimiter"| . >><<span class="ocsforge_color_lid"|result>> <<span class="ocsforge_color_uid"|Lwt>><<span class="ocsforge_color_delimiter"| . >><<span class="ocsforge_color_lid"|t>><<span class="ocsforge_color_delimiter"| ) >> <<span class="ocsforge_color_delimiter"| -> >>\\  unit>>>><<div class="odocwiki_info"|<<span class="odocwiki_inlinecode"|set~_send~_sms~_handler f>> registers <<span class="odocwiki_inlinecode"|f>> as the function to be
    called to send ~S~M~S messages~. ~Used to send activation codes for
    connectivity by mail~.
>>
<<pre class="ocsforge_color odocwiki_code" id="TYPEsms_error"|<<span class="ocsforge_color_keyword"|type>> <<span class="odocwiki_name"|sms~_error>> <<span class="ocsforge_color_delimiter"|~=>> <<span class="odocwiki_type"|[ `Invalid_number | `Limit | `Ownership | `Send | `Unknown ]>> >><<pre id="VALrequest_code" class="ocsforge_color odocwiki_code"|<<span class="ocsforge_color_keyword"|val>> <<span class="odocwiki_name"|request~_code>> <<span class="ocsforge_color_delimiter"|~:>> <<span class="odocwiki_type"|string <<span class="ocsforge_color_delimiter"| -> >> <<span class="ocsforge_color_delimiter"| ( >>unit, <<a_api subproject="server" text="sms_error" | type Os_connect_phone.sms_error >><<span class="ocsforge_color_delimiter"| ) >> <<span class="ocsforge_color_uid"|Pervasives>><<span class="ocsforge_color_delimiter"| . >><<span class="ocsforge_color_lid"|result>> <<span class="ocsforge_color_uid"|Lwt>><<span class="ocsforge_color_delimiter"| . >><<span class="ocsforge_color_lid"|t>>>>>><<div class="odocwiki_info"|~Send a validation code for a new e~-mail address ~(corresponds to
    <<span class="odocwiki_inlinecode"|confirm~_code~_signup>> and <<span class="odocwiki_inlinecode"|confirm~_code~_extra>>~)~.
>>
<<pre id="VALrequest_recovery_code" class="ocsforge_color odocwiki_code"|<<span class="ocsforge_color_keyword"|val>> <<span class="odocwiki_name"|request~_recovery~_code>> <<span class="ocsforge_color_delimiter"|~:>> <<span class="odocwiki_type"|\\  string <<span class="ocsforge_color_delimiter"| -> >> <<span class="ocsforge_color_delimiter"| ( >>unit, <<a_api subproject="server" text="sms_error" | type Os_connect_phone.sms_error >><<span class="ocsforge_color_delimiter"| ) >> <<span class="ocsforge_color_uid"|Pervasives>><<span class="ocsforge_color_delimiter"| . >><<span class="ocsforge_color_lid"|result>> <<span class="ocsforge_color_uid"|Lwt>><<span class="ocsforge_color_delimiter"| . >><<span class="ocsforge_color_lid"|t>>>>>><<div class="odocwiki_info"|~Send a validation code for recovering an existing address~.
>>
<<pre id="VALconfirm_code_extra" class="ocsforge_color odocwiki_code"|<<span class="ocsforge_color_keyword"|val>> <<span class="odocwiki_name"|confirm~_code~_extra>> <<span class="ocsforge_color_delimiter"|~:>> <<span class="odocwiki_type"|string <<span class="ocsforge_color_delimiter"| -> >> bool <<span class="ocsforge_color_uid"|Lwt>><<span class="ocsforge_color_delimiter"| . >><<span class="ocsforge_color_lid"|t>>>>>><<div class="odocwiki_info"|~Confirm validation code and add extra phone to account~.
>>
<<pre id="VALconfirm_code_signup" class="ocsforge_color odocwiki_code"|<<span class="ocsforge_color_keyword"|val>> <<span class="odocwiki_name"|confirm~_code~_signup>> <<span class="ocsforge_color_delimiter"|~:>> <<span class="odocwiki_type"|\\  <<span class="ocsforge_color_label"| first_name: >>string <<span class="ocsforge_color_delimiter"| -> >>\\  <<span class="ocsforge_color_label"| last_name: >>string <<span class="ocsforge_color_delimiter"| -> >>\\  <<span class="ocsforge_color_label"| code: >>string <<span class="ocsforge_color_delimiter"| -> >> <<span class="ocsforge_color_label"| password: >>string <<span class="ocsforge_color_delimiter"| -> >> unit <<span class="ocsforge_color_delimiter"| -> >> bool <<span class="ocsforge_color_uid"|Lwt>><<span class="ocsforge_color_delimiter"| . >><<span class="ocsforge_color_lid"|t>>>>>><<div class="odocwiki_info"|~Confirm validation code and complete sign~-up with the phone
    number~.
>>
<<pre id="VALconfirm_code_recovery" class="ocsforge_color odocwiki_code"|<<span class="ocsforge_color_keyword"|val>> <<span class="odocwiki_name"|confirm~_code~_recovery>> <<span class="ocsforge_color_delimiter"|~:>> <<span class="odocwiki_type"|string <<span class="ocsforge_color_delimiter"| -> >> bool <<span class="ocsforge_color_uid"|Lwt>><<span class="ocsforge_color_delimiter"| . >><<span class="ocsforge_color_lid"|t>>>>>><<div class="odocwiki_info"|~Confirm validation code and recover account~. ~We redirect to the
    settings page for setting a new password~.
>>
<<pre id="VALconnect" class="ocsforge_color odocwiki_code"|<<span class="ocsforge_color_keyword"|val>> <<span class="odocwiki_name"|connect>> <<span class="ocsforge_color_delimiter"|~:>> <<span class="odocwiki_type"|\\  <<span class="ocsforge_color_label"| keepmeloggedin: >>bool <<span class="ocsforge_color_delimiter"| -> >>\\  <<span class="ocsforge_color_label"| password: >>string <<span class="ocsforge_color_delimiter"| -> >> string <<span class="ocsforge_color_delimiter"| -> >> [ `Login_ok | `No_such_resource ] <<span class="ocsforge_color_uid"|Lwt>><<span class="ocsforge_color_delimiter"| . >><<span class="ocsforge_color_lid"|t>>>>>>