=Module <<a_api_type | module Lwt_result >> =
<<pre class="ocsforge_color odocwiki_code"|<<span class="ocsforge_color_keyword"|module>> <<span class="ocsforge_color_uid"|<<span class="ocsforge_color_uid"|Lwt_result>>>> <<span class="ocsforge_color_delimiter"|~:>> <<span class="ocsforge_color_keyword"|sig>><<a_api text=".." | module Lwt_result >><<span class="ocsforge_color_keyword"|end>>>>~Explicit error handling

----

~This module provides helpers for values of type <<span class="odocwiki_inlinecode"|~(~'a~, ~'b~) result ~Lwt~.t>>~.
    ~The module is experimental and may change in the future~.
<<pre class="ocsforge_color odocwiki_code" id="TYPEt"|<<span class="ocsforge_color_keyword"|type>> <<span class="odocwiki_type"|<<span class="ocsforge_color_delimiter"| ( >>'a, 'b<<span class="ocsforge_color_delimiter"| ) >>>> <<span class="odocwiki_name"|t>> <<span class="ocsforge_color_delimiter"|~=>> <<span class="odocwiki_type"|<<span class="ocsforge_color_delimiter"| ( >>'a, 'b<<span class="ocsforge_color_delimiter"| ) >> <<span class="ocsforge_color_uid"|Result>><<span class="ocsforge_color_delimiter"| . >><<span class="ocsforge_color_lid"|result>> <<a_api text="Lwt.t" | type Lwt.t >>>> >><<pre id="VALreturn" class="ocsforge_color odocwiki_code"|<<span class="ocsforge_color_keyword"|val>> <<span class="odocwiki_name"|return>> <<span class="ocsforge_color_delimiter"|~:>> <<span class="odocwiki_type"|'a <<span class="ocsforge_color_delimiter"| -> >> <<span class="ocsforge_color_delimiter"| ( >>'a, 'b<<span class="ocsforge_color_delimiter"| ) >> <<a_api text="t" | type Lwt_result.t >>>>>><<pre id="VALfail" class="ocsforge_color odocwiki_code"|<<span class="ocsforge_color_keyword"|val>> <<span class="odocwiki_name"|fail>> <<span class="ocsforge_color_delimiter"|~:>> <<span class="odocwiki_type"|'b <<span class="ocsforge_color_delimiter"| -> >> <<span class="ocsforge_color_delimiter"| ( >>'a, 'b<<span class="ocsforge_color_delimiter"| ) >> <<a_api text="t" | type Lwt_result.t >>>>>><<pre id="VALlift" class="ocsforge_color odocwiki_code"|<<span class="ocsforge_color_keyword"|val>> <<span class="odocwiki_name"|lift>> <<span class="ocsforge_color_delimiter"|~:>> <<span class="odocwiki_type"|<<span class="ocsforge_color_delimiter"| ( >>'a, 'b<<span class="ocsforge_color_delimiter"| ) >> <<span class="ocsforge_color_uid"|Result>><<span class="ocsforge_color_delimiter"| . >><<span class="ocsforge_color_lid"|result>> <<span class="ocsforge_color_delimiter"| -> >> <<span class="ocsforge_color_delimiter"| ( >>'a, 'b<<span class="ocsforge_color_delimiter"| ) >> <<a_api text="t" | type Lwt_result.t >>>>>><<pre id="VALok" class="ocsforge_color odocwiki_code"|<<span class="ocsforge_color_keyword"|val>> <<span class="odocwiki_name"|ok>> <<span class="ocsforge_color_delimiter"|~:>> <<span class="odocwiki_type"|'a <<a_api text="Lwt.t" | type Lwt.t >> <<span class="ocsforge_color_delimiter"| -> >> <<span class="ocsforge_color_delimiter"| ( >>'a, 'b<<span class="ocsforge_color_delimiter"| ) >> <<a_api text="t" | type Lwt_result.t >>>>>><<pre id="VALcatch" class="ocsforge_color odocwiki_code"|<<span class="ocsforge_color_keyword"|val>> <<span class="odocwiki_name"|catch>> <<span class="ocsforge_color_delimiter"|~:>> <<span class="odocwiki_type"|'a <<a_api text="Lwt.t" | type Lwt.t >> <<span class="ocsforge_color_delimiter"| -> >> <<span class="ocsforge_color_delimiter"| ( >>'a, exn<<span class="ocsforge_color_delimiter"| ) >> <<a_api text="t" | type Lwt_result.t >>>>>><<div class="odocwiki_info"|<<span class="odocwiki_inlinecode"|catch x>> behaves like <<span class="odocwiki_inlinecode"|return y>> if <<span class="odocwiki_inlinecode"|x>> evaluates to <<span class="odocwiki_inlinecode"|y>>~,
    and like <<span class="odocwiki_inlinecode"|fail e>> if <<span class="odocwiki_inlinecode"|x>> raises <<span class="odocwiki_inlinecode"|e>>
>>
<<pre id="VALget_exn" class="ocsforge_color odocwiki_code"|<<span class="ocsforge_color_keyword"|val>> <<span class="odocwiki_name"|get~_exn>> <<span class="ocsforge_color_delimiter"|~:>> <<span class="odocwiki_type"|<<span class="ocsforge_color_delimiter"| ( >>'a, exn<<span class="ocsforge_color_delimiter"| ) >> <<a_api text="t" | type Lwt_result.t >> <<span class="ocsforge_color_delimiter"| -> >> 'a <<a_api text="Lwt.t" | type Lwt.t >>>>>><<div class="odocwiki_info"|<<span class="odocwiki_inlinecode"|get~_exn>> is the opposite of <<a_api | val Lwt_result.catch >>~: it unwraps the result type~,
    returning the value in case of success~, calls <<a_api | val Lwt.fail >> in
    case of error~.
>>
<<pre id="VALmap" class="ocsforge_color odocwiki_code"|<<span class="ocsforge_color_keyword"|val>> <<span class="odocwiki_name"|map>> <<span class="ocsforge_color_delimiter"|~:>> <<span class="odocwiki_type"|<<span class="ocsforge_color_delimiter"| ( >>'a <<span class="ocsforge_color_delimiter"| -> >> 'b<<span class="ocsforge_color_delimiter"| ) >> <<span class="ocsforge_color_delimiter"| -> >> <<span class="ocsforge_color_delimiter"| ( >>'a, 'e<<span class="ocsforge_color_delimiter"| ) >> <<a_api text="t" | type Lwt_result.t >> <<span class="ocsforge_color_delimiter"| -> >> <<span class="ocsforge_color_delimiter"| ( >>'b, 'e<<span class="ocsforge_color_delimiter"| ) >> <<a_api text="t" | type Lwt_result.t >>>>>><<pre id="VALmap_err" class="ocsforge_color odocwiki_code"|<<span class="ocsforge_color_keyword"|val>> <<span class="odocwiki_name"|map~_err>> <<span class="ocsforge_color_delimiter"|~:>> <<span class="odocwiki_type"|<<span class="ocsforge_color_delimiter"| ( >>'e1 <<span class="ocsforge_color_delimiter"| -> >> 'e2<<span class="ocsforge_color_delimiter"| ) >> <<span class="ocsforge_color_delimiter"| -> >> <<span class="ocsforge_color_delimiter"| ( >>'a, 'e1<<span class="ocsforge_color_delimiter"| ) >> <<a_api text="t" | type Lwt_result.t >> <<span class="ocsforge_color_delimiter"| -> >> <<span class="ocsforge_color_delimiter"| ( >>'a, 'e2<<span class="ocsforge_color_delimiter"| ) >> <<a_api text="t" | type Lwt_result.t >>>>>><<pre id="VALbind" class="ocsforge_color odocwiki_code"|<<span class="ocsforge_color_keyword"|val>> <<span class="odocwiki_name"|bind>> <<span class="ocsforge_color_delimiter"|~:>> <<span class="odocwiki_type"|\\  <<span class="ocsforge_color_delimiter"| ( >>'a, 'e<<span class="ocsforge_color_delimiter"| ) >> <<a_api text="t" | type Lwt_result.t >> <<span class="ocsforge_color_delimiter"| -> >>\\  <<span class="ocsforge_color_delimiter"| ( >>'a <<span class="ocsforge_color_delimiter"| -> >> <<span class="ocsforge_color_delimiter"| ( >>'b, 'e<<span class="ocsforge_color_delimiter"| ) >> <<a_api text="t" | type Lwt_result.t >><<span class="ocsforge_color_delimiter"| ) >> <<span class="ocsforge_color_delimiter"| -> >> <<span class="ocsforge_color_delimiter"| ( >>'b, 'e<<span class="ocsforge_color_delimiter"| ) >> <<a_api text="t" | type Lwt_result.t >>>>>><<pre id="VALbind_lwt" class="ocsforge_color odocwiki_code"|<<span class="ocsforge_color_keyword"|val>> <<span class="odocwiki_name"|bind~_lwt>> <<span class="ocsforge_color_delimiter"|~:>> <<span class="odocwiki_type"|<<span class="ocsforge_color_delimiter"| ( >>'a, 'e<<span class="ocsforge_color_delimiter"| ) >> <<a_api text="t" | type Lwt_result.t >> <<span class="ocsforge_color_delimiter"| -> >> <<span class="ocsforge_color_delimiter"| ( >>'a <<span class="ocsforge_color_delimiter"| -> >> 'b <<a_api text="Lwt.t" | type Lwt.t >><<span class="ocsforge_color_delimiter"| ) >> <<span class="ocsforge_color_delimiter"| -> >> <<span class="ocsforge_color_delimiter"| ( >>'b, 'e<<span class="ocsforge_color_delimiter"| ) >> <<a_api text="t" | type Lwt_result.t >>>>>><<pre id="VALbind_lwt_err" class="ocsforge_color odocwiki_code"|<<span class="ocsforge_color_keyword"|val>> <<span class="odocwiki_name"|bind~_lwt~_err>> <<span class="ocsforge_color_delimiter"|~:>> <<span class="odocwiki_type"|<<span class="ocsforge_color_delimiter"| ( >>'a, 'e1<<span class="ocsforge_color_delimiter"| ) >> <<a_api text="t" | type Lwt_result.t >> <<span class="ocsforge_color_delimiter"| -> >> <<span class="ocsforge_color_delimiter"| ( >>'e1 <<span class="ocsforge_color_delimiter"| -> >> 'e2 <<a_api text="Lwt.t" | type Lwt.t >><<span class="ocsforge_color_delimiter"| ) >> <<span class="ocsforge_color_delimiter"| -> >> <<span class="ocsforge_color_delimiter"| ( >>'a, 'e2<<span class="ocsforge_color_delimiter"| ) >> <<a_api text="t" | type Lwt_result.t >>>>>><<pre id="VALbind_result" class="ocsforge_color odocwiki_code"|<<span class="ocsforge_color_keyword"|val>> <<span class="odocwiki_name"|bind~_result>> <<span class="ocsforge_color_delimiter"|~:>> <<span class="odocwiki_type"|\\  <<span class="ocsforge_color_delimiter"| ( >>'a, 'e<<span class="ocsforge_color_delimiter"| ) >> <<a_api text="t" | type Lwt_result.t >> <<span class="ocsforge_color_delimiter"| -> >>\\  <<span class="ocsforge_color_delimiter"| ( >>'a <<span class="ocsforge_color_delimiter"| -> >> <<span class="ocsforge_color_delimiter"| ( >>'b, 'e<<span class="ocsforge_color_delimiter"| ) >> <<span class="ocsforge_color_uid"|Result>><<span class="ocsforge_color_delimiter"| . >><<span class="ocsforge_color_lid"|result>><<span class="ocsforge_color_delimiter"| ) >> <<span class="ocsforge_color_delimiter"| -> >> <<span class="ocsforge_color_delimiter"| ( >>'b, 'e<<span class="ocsforge_color_delimiter"| ) >> <<a_api text="t" | type Lwt_result.t >>>>>><<pre class="ocsforge_color odocwiki_code"|<<span class="ocsforge_color_keyword"|module>> <<a_api text="Infix" | module Lwt_result.Infix >> <<span class="ocsforge_color_delimiter"|~:>> <<span class="ocsforge_color_keyword"|sig>><<a_api text=".." | module Lwt_result.Infix >><<span class="ocsforge_color_keyword"|end>>>><<pre class="ocsforge_color odocwiki_code"|<<span class="ocsforge_color_keyword"|include>> <<a_api | module Lwt_result.Infix >>>>
