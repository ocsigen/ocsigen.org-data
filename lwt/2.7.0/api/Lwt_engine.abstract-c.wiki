=Class virtual <<a_api_type | class Lwt_engine.abstract >> =
<<pre class="ocsforge_color odocwiki_code"|<<span name="TYPEabstract"|<<span class="ocsforge_color_keyword"|class>> <<span class="ocsforge_color_keyword"|virtual>> <<span class="ocsforge_color_name"|abstract>>>> <<span class="ocsforge_color_delimiter"|~:>>  <<span class="ocsforge_color_keyword"|object>><<a_api text=".." | class Lwt_engine.abstract >><<span class="ocsforge_color_keyword"|end>>>>~Abstract class for engines~.

----
<<pre class="ocsforge_color odocwiki_code"|<<span id="METHODdestroy"|<<span class="ocsforge_color_keyword"|method>> <<span class="odocwiki_name"|destroy>>>> <<span class="ocsforge_color_delimiter"|~:>> <<span class="odocwiki_type"|unit>>>><<div class="odocwiki_info"|~Destroy the engine~, remove all its events and free its
        associated resources~.
>>
<<pre class="ocsforge_color odocwiki_code"|<<span id="METHODtransfer"|<<span class="ocsforge_color_keyword"|method>> <<span class="odocwiki_name"|transfer>>>> <<span class="ocsforge_color_delimiter"|~:>> <<span class="odocwiki_type"|<<a_api text="abstract" | class type Lwt_engine.abstract >> <<span class="ocsforge_color_delimiter"| -> >> unit>>>><<div class="odocwiki_info"|<<span class="odocwiki_inlinecode"|transfer engine>> moves all events from the current engine to
        <<span class="odocwiki_inlinecode"|engine>>~. ~Note that timers are reset in the destination
        engine~, i~.e~. if a timer with a delay of ~2 seconds was
        registered ~1 second ago it will occur in ~2 seconds in the
        destination engine~.
>>

==@@id="2_Eventloopmethods"@@~Event loop methods==
<<pre class="ocsforge_color odocwiki_code"|<<span id="METHODiter"|<<span class="ocsforge_color_keyword"|method>> <<span class="ocsforge_color_keyword"|virtual>> <<span class="odocwiki_name"|iter>>>> <<span class="ocsforge_color_delimiter"|~:>> <<span class="odocwiki_type"|bool <<span class="ocsforge_color_delimiter"| -> >> unit>>>><<pre class="ocsforge_color odocwiki_code"|<<span id="METHODon_readable"|<<span class="ocsforge_color_keyword"|method>> <<span class="odocwiki_name"|on_readable>>>> <<span class="ocsforge_color_delimiter"|~:>> <<span class="odocwiki_type"|<<span class="ocsforge_color_uid"|Unix>><<span class="ocsforge_color_delimiter"| . >><<span class="ocsforge_color_lid"|file_descr>> <<span class="ocsforge_color_delimiter"| -> >> <<span class="ocsforge_color_delimiter"| ( >><<a_api text="event" | type Lwt_engine.event >> <<span class="ocsforge_color_delimiter"| -> >> unit<<span class="ocsforge_color_delimiter"| ) >> <<span class="ocsforge_color_delimiter"| -> >> <<a_api text="event" | type Lwt_engine.event >>>>>><<pre class="ocsforge_color odocwiki_code"|<<span id="METHODon_writable"|<<span class="ocsforge_color_keyword"|method>> <<span class="odocwiki_name"|on_writable>>>> <<span class="ocsforge_color_delimiter"|~:>> <<span class="odocwiki_type"|<<span class="ocsforge_color_uid"|Unix>><<span class="ocsforge_color_delimiter"| . >><<span class="ocsforge_color_lid"|file_descr>> <<span class="ocsforge_color_delimiter"| -> >> <<span class="ocsforge_color_delimiter"| ( >><<a_api text="event" | type Lwt_engine.event >> <<span class="ocsforge_color_delimiter"| -> >> unit<<span class="ocsforge_color_delimiter"| ) >> <<span class="ocsforge_color_delimiter"| -> >> <<a_api text="event" | type Lwt_engine.event >>>>>><<pre class="ocsforge_color odocwiki_code"|<<span id="METHODon_timer"|<<span class="ocsforge_color_keyword"|method>> <<span class="odocwiki_name"|on_timer>>>> <<span class="ocsforge_color_delimiter"|~:>> <<span class="odocwiki_type"|float <<span class="ocsforge_color_delimiter"| -> >> bool <<span class="ocsforge_color_delimiter"| -> >> <<span class="ocsforge_color_delimiter"| ( >><<a_api text="event" | type Lwt_engine.event >> <<span class="ocsforge_color_delimiter"| -> >> unit<<span class="ocsforge_color_delimiter"| ) >> <<span class="ocsforge_color_delimiter"| -> >> <<a_api text="event" | type Lwt_engine.event >>>>>><<pre class="ocsforge_color odocwiki_code"|<<span id="METHODfake_io"|<<span class="ocsforge_color_keyword"|method>> <<span class="odocwiki_name"|fake_io>>>> <<span class="ocsforge_color_delimiter"|~:>> <<span class="odocwiki_type"|<<span class="ocsforge_color_uid"|Unix>><<span class="ocsforge_color_delimiter"| . >><<span class="ocsforge_color_lid"|file_descr>> <<span class="ocsforge_color_delimiter"| -> >> unit>>>><<pre class="ocsforge_color odocwiki_code"|<<span id="METHODreadable_count"|<<span class="ocsforge_color_keyword"|method>> <<span class="odocwiki_name"|readable_count>>>> <<span class="ocsforge_color_delimiter"|~:>> <<span class="odocwiki_type"|int>>>><<pre class="ocsforge_color odocwiki_code"|<<span id="METHODwritable_count"|<<span class="ocsforge_color_keyword"|method>> <<span class="odocwiki_name"|writable_count>>>> <<span class="ocsforge_color_delimiter"|~:>> <<span class="odocwiki_type"|int>>>><<pre class="ocsforge_color odocwiki_code"|<<span id="METHODtimer_count"|<<span class="ocsforge_color_keyword"|method>> <<span class="odocwiki_name"|timer_count>>>> <<span class="ocsforge_color_delimiter"|~:>> <<span class="odocwiki_type"|int>>>>
==@@id="2_Backendmethods"@@~Backend methods==

==@@id="2_Notes"@@~Notes~:==



* the callback passed to register methods is of type <<span class="odocwiki_inlinecode"|unit ~-~>
      unit>> and not <<span class="odocwiki_inlinecode"|event ~-~> unit>>
* register methods return a lazy value which unregisters the
      event when forced
<<pre class="ocsforge_color odocwiki_code"|<<span id="METHODcleanup"|<<span class="ocsforge_color_keyword"|method>> <<span class="ocsforge_color_keyword"|private>> <<span class="ocsforge_color_keyword"|virtual>> <<span class="odocwiki_name"|cleanup>>>> <<span class="ocsforge_color_delimiter"|~:>> <<span class="odocwiki_type"|unit>>>><<div class="odocwiki_info"|~Cleanup resources associated with the engine~.
>>
<<pre class="ocsforge_color odocwiki_code"|<<span id="METHODregister_readable"|<<span class="ocsforge_color_keyword"|method>> <<span class="ocsforge_color_keyword"|private>> <<span class="ocsforge_color_keyword"|virtual>> <<span class="odocwiki_name"|register_readable>>>> <<span class="ocsforge_color_delimiter"|~:>> <<span class="odocwiki_type"|\\<<span class="ocsforge_color_uid"|Unix>><<span class="ocsforge_color_delimiter"| . >><<span class="ocsforge_color_lid"|file_descr>> <<span class="ocsforge_color_delimiter"| -> >> <<span class="ocsforge_color_delimiter"| ( >>unit <<span class="ocsforge_color_delimiter"| -> >> unit<<span class="ocsforge_color_delimiter"| ) >> <<span class="ocsforge_color_delimiter"| -> >> unit <<span class="ocsforge_color_uid"|Lazy>><<span class="ocsforge_color_delimiter"| . >><<span class="ocsforge_color_lid"|t>>>>>><<pre class="ocsforge_color odocwiki_code"|<<span id="METHODregister_writable"|<<span class="ocsforge_color_keyword"|method>> <<span class="ocsforge_color_keyword"|private>> <<span class="ocsforge_color_keyword"|virtual>> <<span class="odocwiki_name"|register_writable>>>> <<span class="ocsforge_color_delimiter"|~:>> <<span class="odocwiki_type"|\\<<span class="ocsforge_color_uid"|Unix>><<span class="ocsforge_color_delimiter"| . >><<span class="ocsforge_color_lid"|file_descr>> <<span class="ocsforge_color_delimiter"| -> >> <<span class="ocsforge_color_delimiter"| ( >>unit <<span class="ocsforge_color_delimiter"| -> >> unit<<span class="ocsforge_color_delimiter"| ) >> <<span class="ocsforge_color_delimiter"| -> >> unit <<span class="ocsforge_color_uid"|Lazy>><<span class="ocsforge_color_delimiter"| . >><<span class="ocsforge_color_lid"|t>>>>>><<pre class="ocsforge_color odocwiki_code"|<<span id="METHODregister_timer"|<<span class="ocsforge_color_keyword"|method>> <<span class="ocsforge_color_keyword"|private>> <<span class="ocsforge_color_keyword"|virtual>> <<span class="odocwiki_name"|register_timer>>>> <<span class="ocsforge_color_delimiter"|~:>> <<span class="odocwiki_type"|\\float <<span class="ocsforge_color_delimiter"| -> >> bool <<span class="ocsforge_color_delimiter"| -> >> <<span class="ocsforge_color_delimiter"| ( >>unit <<span class="ocsforge_color_delimiter"| -> >> unit<<span class="ocsforge_color_delimiter"| ) >> <<span class="ocsforge_color_delimiter"| -> >> unit <<span class="ocsforge_color_uid"|Lazy>><<span class="ocsforge_color_delimiter"| . >><<span class="ocsforge_color_lid"|t>>>>>>