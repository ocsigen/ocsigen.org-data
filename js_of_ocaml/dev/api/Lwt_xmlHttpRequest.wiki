=Module <<a_api_type | module Lwt_xmlHttpRequest >> =
<<pre class="ocsforge_color odocwiki_code"|<<span class="ocsforge_color_keyword"|module>> <<span class="ocsforge_color_uid"|<<span class="ocsforge_color_uid"|Lwt_xmlHttpRequest>>>> <<span class="ocsforge_color_delimiter"|~:>> <<span class="ocsforge_color_keyword"|sig>><<a_api text=".." | module Lwt_xmlHttpRequest >><<span class="ocsforge_color_keyword"|end>>>>~Xml~Http~Request object~.

----
<<pre class="ocsforge_color odocwiki_code" id="TYPEgeneric_http_frame"|<<span class="ocsforge_color_keyword"|type>> <<span class="odocwiki_type"|'response>> <<span class="odocwiki_name"|generic~_http~_frame>> <<span class="ocsforge_color_delimiter"|~=>> <<span class="ocsforge_color_delimiter"|~{>>
<<span class="odocwiki_record"|<<span class="odocwiki_field"|<<span class="odocwiki_field_descr"|  <<span class="ocsforge_color_label"|url:>> <<span class="odocwiki_type"|string>><<span class="ocsforge_color_delimiter"|~;>> >>>><<span class="odocwiki_field"|<<span class="odocwiki_field_descr"|  <<span class="ocsforge_color_label"|code:>> <<span class="odocwiki_type"|int>><<span class="ocsforge_color_delimiter"|~;>> >>>><<span class="odocwiki_field"|<<span class="odocwiki_field_descr"|  <<span class="ocsforge_color_label"|headers:>> <<span class="odocwiki_type"|string <<span class="ocsforge_color_delimiter"| -> >> string option>><<span class="ocsforge_color_delimiter"|~;>> >>>><<span class="odocwiki_field"|<<span class="odocwiki_field_descr"|  <<span class="ocsforge_color_label"|content:>> <<span class="odocwiki_type"|'response>><<span class="ocsforge_color_delimiter"|~;>> >>>><<span class="odocwiki_field"|<<span class="odocwiki_field_descr"|  <<span class="ocsforge_color_label"|content_xml:>> <<span class="odocwiki_type"|\\    unit <<span class="ocsforge_color_delimiter"| -> >>\\    <<span class="ocsforge_color_uid"|Js_of_ocaml>><<span class="ocsforge_color_delimiter"| . >><<span class="ocsforge_color_uid"|Dom>><<span class="ocsforge_color_delimiter"| . >><<span class="ocsforge_color_lid"|element>> <<span class="ocsforge_color_uid"|Js_of_ocaml>><<span class="ocsforge_color_delimiter"| . >><<span class="ocsforge_color_uid"|Dom>><<span class="ocsforge_color_delimiter"| . >><<span class="ocsforge_color_lid"|document>> <<span class="ocsforge_color_uid"|Js_of_ocaml>><<span class="ocsforge_color_delimiter"| . >><<span class="ocsforge_color_uid"|Js>><<span class="ocsforge_color_delimiter"| . >><<span class="ocsforge_color_lid"|t>>\\    option>><<span class="ocsforge_color_delimiter"|~;>> >>>>>><<span class="ocsforge_color_delimiter"|~}>>>><<div class="odocwiki_info"|~The type for ~X~H~R results~. ~The code field is the http status code of the
    answer~. ~The headers field is a function associating values to any header
    name~.
>>
<<pre class="ocsforge_color odocwiki_code" id="TYPEhttp_frame"|<<span class="ocsforge_color_keyword"|type>> <<span class="odocwiki_name"|http~_frame>> <<span class="ocsforge_color_delimiter"|~=>> <<span class="odocwiki_type"|string <<a_api text="generic_http_frame" | type Lwt_xmlHttpRequest.generic_http_frame >>>> >><<pre id="EXCEPTIONWrong_headers" class="ocsforge_color odocwiki_code"|<<span class="ocsforge_color_keyword"|exception>> <<span class="odocwiki_name"|Wrong_headers>> <<span class="ocsforge_color_keyword"|of>> <<span class="odocwiki_type"|<<span class="ocsforge_color_delimiter"| ( >>int * <<span class="ocsforge_color_delimiter"| ( >>string <<span class="ocsforge_color_delimiter"| -> >> string option<<span class="ocsforge_color_delimiter"| ) >><<span class="ocsforge_color_delimiter"| ) >>>>>><<div class="odocwiki_info"|~The exception raise by perform functions when the check~_headers
    parameter returned false~. ~The parameter of the exception is a
    function is like the <<span class="odocwiki_inlinecode"|headers>> function of <<span class="odocwiki_inlinecode"|http~_frame>>
>>
<<pre id="VALperform_raw" class="ocsforge_color odocwiki_code"|<<span class="ocsforge_color_keyword"|val>> <<span class="odocwiki_name"|perform~_raw>> <<span class="ocsforge_color_delimiter"|~:>> <<span class="odocwiki_type"|\\  <<span class="ocsforge_color_label"| ?headers: >><<span class="ocsforge_color_delimiter"| ( >>string * string<<span class="ocsforge_color_delimiter"| ) >> list <<span class="ocsforge_color_delimiter"| -> >>\\  <<span class="ocsforge_color_label"| ?content_type: >>string <<span class="ocsforge_color_delimiter"| -> >>\\  <<span class="ocsforge_color_label"| ?get_args: >><<span class="ocsforge_color_delimiter"| ( >>string * string<<span class="ocsforge_color_delimiter"| ) >> list <<span class="ocsforge_color_delimiter"| -> >>\\  <<span class="ocsforge_color_label"| ?check_headers: >><<span class="ocsforge_color_delimiter"| ( >>int <<span class="ocsforge_color_delimiter"| -> >> <<span class="ocsforge_color_delimiter"| ( >>string <<span class="ocsforge_color_delimiter"| -> >> string option<<span class="ocsforge_color_delimiter"| ) >> <<span class="ocsforge_color_delimiter"| -> >> bool<<span class="ocsforge_color_delimiter"| ) >> <<span class="ocsforge_color_delimiter"| -> >>\\  <<span class="ocsforge_color_label"| ?progress: >><<span class="ocsforge_color_delimiter"| ( >>int <<span class="ocsforge_color_delimiter"| -> >> int <<span class="ocsforge_color_delimiter"| -> >> unit<<span class="ocsforge_color_delimiter"| ) >> <<span class="ocsforge_color_delimiter"| -> >>\\  <<span class="ocsforge_color_label"| ?upload_progress: >><<span class="ocsforge_color_delimiter"| ( >>int <<span class="ocsforge_color_delimiter"| -> >> int <<span class="ocsforge_color_delimiter"| -> >> unit<<span class="ocsforge_color_delimiter"| ) >> <<span class="ocsforge_color_delimiter"| -> >>\\  <<span class="ocsforge_color_label"| ?contents: >>[< `Blob of ~#<<span class="ocsforge_color_uid"|Js_of_ocaml>><<span class="ocsforge_color_delimiter"| . >><<span class="ocsforge_color_uid"|File>><<span class="ocsforge_color_delimiter"| . >><<span class="ocsforge_color_lid"|blob>> <<span class="ocsforge_color_uid"|Js_of_ocaml>><<span class="ocsforge_color_delimiter"| . >><<span class="ocsforge_color_uid"|Js>><<span class="ocsforge_color_delimiter"| . >><<span class="ocsforge_color_lid"|t>>\\             | `Form_contents of <<span class="ocsforge_color_uid"|Js_of_ocaml>><<span class="ocsforge_color_delimiter"| . >><<span class="ocsforge_color_uid"|Form>><<span class="ocsforge_color_delimiter"| . >><<span class="ocsforge_color_lid"|form_contents>>\\             | `POST_form of <<span class="ocsforge_color_delimiter"| ( >>string * <<span class="ocsforge_color_uid"|Js_of_ocaml>><<span class="ocsforge_color_delimiter"| . >><<span class="ocsforge_color_uid"|Form>><<span class="ocsforge_color_delimiter"| . >><<span class="ocsforge_color_lid"|form_elt>><<span class="ocsforge_color_delimiter"| ) >> list\\             | `String of string ] <<span class="ocsforge_color_delimiter"| -> >>\\  <<span class="ocsforge_color_label"| ?override_mime_type: >>string <<span class="ocsforge_color_delimiter"| -> >>\\  <<span class="ocsforge_color_label"| ?override_method: >>[< `DELETE\\                    | `GET\\                    | `HEAD\\                    | `OPTIONS\\                    | `PATCH\\                    | `POST\\                    | `PUT ] <<span class="ocsforge_color_delimiter"| -> >>\\  <<span class="ocsforge_color_label"| ?with_credentials: >>bool <<span class="ocsforge_color_delimiter"| -> >>\\  <<span class="ocsforge_color_label"| response_type: >>'a <<span class="ocsforge_color_uid"|Js_of_ocaml>><<span class="ocsforge_color_delimiter"| . >><<span class="ocsforge_color_uid"|XmlHttpRequest>><<span class="ocsforge_color_delimiter"| . >><<span class="ocsforge_color_lid"|response>> <<span class="ocsforge_color_delimiter"| -> >>\\  string <<span class="ocsforge_color_delimiter"| -> >> 'a <<a_api text="generic_http_frame" | type Lwt_xmlHttpRequest.generic_http_frame >> <<span class="ocsforge_color_uid"|Lwt>><<span class="ocsforge_color_delimiter"| . >><<span class="ocsforge_color_lid"|t>>>>>><<div class="odocwiki_info"|<<span class="odocwiki_inlinecode"|perform~_raw>> is the same as <<a_api | val Lwt_xmlHttpRequest.perform_raw_url >> except that an additional
      response~_type argument can be given to set the ~X~M~L~Http~Request
      response~Type~, and hence return different types of data for ~G~E~T
      requests~.
>>
<<pre id="VALperform_raw_url" class="ocsforge_color odocwiki_code"|<<span class="ocsforge_color_keyword"|val>> <<span class="odocwiki_name"|perform~_raw~_url>> <<span class="ocsforge_color_delimiter"|~:>> <<span class="odocwiki_type"|\\  <<span class="ocsforge_color_label"| ?headers: >><<span class="ocsforge_color_delimiter"| ( >>string * string<<span class="ocsforge_color_delimiter"| ) >> list <<span class="ocsforge_color_delimiter"| -> >>\\  <<span class="ocsforge_color_label"| ?content_type: >>string <<span class="ocsforge_color_delimiter"| -> >>\\  <<span class="ocsforge_color_label"| ?get_args: >><<span class="ocsforge_color_delimiter"| ( >>string * string<<span class="ocsforge_color_delimiter"| ) >> list <<span class="ocsforge_color_delimiter"| -> >>\\  <<span class="ocsforge_color_label"| ?check_headers: >><<span class="ocsforge_color_delimiter"| ( >>int <<span class="ocsforge_color_delimiter"| -> >> <<span class="ocsforge_color_delimiter"| ( >>string <<span class="ocsforge_color_delimiter"| -> >> string option<<span class="ocsforge_color_delimiter"| ) >> <<span class="ocsforge_color_delimiter"| -> >> bool<<span class="ocsforge_color_delimiter"| ) >> <<span class="ocsforge_color_delimiter"| -> >>\\  <<span class="ocsforge_color_label"| ?progress: >><<span class="ocsforge_color_delimiter"| ( >>int <<span class="ocsforge_color_delimiter"| -> >> int <<span class="ocsforge_color_delimiter"| -> >> unit<<span class="ocsforge_color_delimiter"| ) >> <<span class="ocsforge_color_delimiter"| -> >>\\  <<span class="ocsforge_color_label"| ?upload_progress: >><<span class="ocsforge_color_delimiter"| ( >>int <<span class="ocsforge_color_delimiter"| -> >> int <<span class="ocsforge_color_delimiter"| -> >> unit<<span class="ocsforge_color_delimiter"| ) >> <<span class="ocsforge_color_delimiter"| -> >>\\  <<span class="ocsforge_color_label"| ?contents: >>[< `Blob of ~#<<span class="ocsforge_color_uid"|Js_of_ocaml>><<span class="ocsforge_color_delimiter"| . >><<span class="ocsforge_color_uid"|File>><<span class="ocsforge_color_delimiter"| . >><<span class="ocsforge_color_lid"|blob>> <<span class="ocsforge_color_uid"|Js_of_ocaml>><<span class="ocsforge_color_delimiter"| . >><<span class="ocsforge_color_uid"|Js>><<span class="ocsforge_color_delimiter"| . >><<span class="ocsforge_color_lid"|t>>\\             | `Form_contents of <<span class="ocsforge_color_uid"|Js_of_ocaml>><<span class="ocsforge_color_delimiter"| . >><<span class="ocsforge_color_uid"|Form>><<span class="ocsforge_color_delimiter"| . >><<span class="ocsforge_color_lid"|form_contents>>\\             | `POST_form of <<span class="ocsforge_color_delimiter"| ( >>string * <<span class="ocsforge_color_uid"|Js_of_ocaml>><<span class="ocsforge_color_delimiter"| . >><<span class="ocsforge_color_uid"|Form>><<span class="ocsforge_color_delimiter"| . >><<span class="ocsforge_color_lid"|form_elt>><<span class="ocsforge_color_delimiter"| ) >> list\\             | `String of string ] <<span class="ocsforge_color_delimiter"| -> >>\\  <<span class="ocsforge_color_label"| ?override_mime_type: >>string <<span class="ocsforge_color_delimiter"| -> >>\\  <<span class="ocsforge_color_label"| ?override_method: >>[< `DELETE\\                    | `GET\\                    | `HEAD\\                    | `OPTIONS\\                    | `PATCH\\                    | `POST\\                    | `PUT ] <<span class="ocsforge_color_delimiter"| -> >>\\  <<span class="ocsforge_color_label"| ?with_credentials: >>bool <<span class="ocsforge_color_delimiter"| -> >>\\  string <<span class="ocsforge_color_delimiter"| -> >> <<a_api text="http_frame" | type Lwt_xmlHttpRequest.http_frame >> <<span class="ocsforge_color_uid"|Lwt>><<span class="ocsforge_color_delimiter"| . >><<span class="ocsforge_color_lid"|t>>>>>><<div class="odocwiki_info"|<<span class="odocwiki_inlinecode"|perform~_raw~_url>> makes an asynchronous request to the specified <<span class="odocwiki_inlinecode"|url>> with
      specified options~. ~The result is a cancelable thread returning
      an ~H~T~T~P frame~. ~By default~, if <<span class="odocwiki_inlinecode"|post~_args>> and <<span class="odocwiki_inlinecode"|form~_arg>> are <<span class="odocwiki_inlinecode"|~None>>~, a ~G~E~T
      request is used~. ~If <<span class="odocwiki_inlinecode"|post~_args>> or <<span class="odocwiki_inlinecode"|form~_arg>> is <<span class="odocwiki_inlinecode"|~Some ~_>> ~(even <<span class="odocwiki_inlinecode"|~Some ~[~]>>~) then a ~P~O~S~T
      request is made~. ~But if <<span class="odocwiki_inlinecode"|override~_method>> is set~, the request method is forced~,
      no matter the <<span class="odocwiki_inlinecode"|post~_args>> or <<span class="odocwiki_inlinecode"|form~_arg>> value~. ~For example~, with <<span class="odocwiki_inlinecode"|override~_method>>
      set to <<span class="odocwiki_inlinecode"|`~P~U~T>> and <<span class="odocwiki_inlinecode"|form~_arg>> set to <<span class="odocwiki_inlinecode"|~Some ~_>> a ~P~U~T request including the form data
      will be made~. ~The <<span class="odocwiki_inlinecode"|check~_headers>> argument is run as soon as the answer
      code and headers are available~. ~If it returns false~, the request is canceled
      and the functions raise the <<span class="odocwiki_inlinecode"|~Wrong~_headers>> exception
>>
<<pre id="VALperform" class="ocsforge_color odocwiki_code"|<<span class="ocsforge_color_keyword"|val>> <<span class="odocwiki_name"|perform>> <<span class="ocsforge_color_delimiter"|~:>> <<span class="odocwiki_type"|\\  <<span class="ocsforge_color_label"| ?headers: >><<span class="ocsforge_color_delimiter"| ( >>string * string<<span class="ocsforge_color_delimiter"| ) >> list <<span class="ocsforge_color_delimiter"| -> >>\\  <<span class="ocsforge_color_label"| ?content_type: >>string <<span class="ocsforge_color_delimiter"| -> >>\\  <<span class="ocsforge_color_label"| ?get_args: >><<span class="ocsforge_color_delimiter"| ( >>string * string<<span class="ocsforge_color_delimiter"| ) >> list <<span class="ocsforge_color_delimiter"| -> >>\\  <<span class="ocsforge_color_label"| ?check_headers: >><<span class="ocsforge_color_delimiter"| ( >>int <<span class="ocsforge_color_delimiter"| -> >> <<span class="ocsforge_color_delimiter"| ( >>string <<span class="ocsforge_color_delimiter"| -> >> string option<<span class="ocsforge_color_delimiter"| ) >> <<span class="ocsforge_color_delimiter"| -> >> bool<<span class="ocsforge_color_delimiter"| ) >> <<span class="ocsforge_color_delimiter"| -> >>\\  <<span class="ocsforge_color_label"| ?progress: >><<span class="ocsforge_color_delimiter"| ( >>int <<span class="ocsforge_color_delimiter"| -> >> int <<span class="ocsforge_color_delimiter"| -> >> unit<<span class="ocsforge_color_delimiter"| ) >> <<span class="ocsforge_color_delimiter"| -> >>\\  <<span class="ocsforge_color_label"| ?upload_progress: >><<span class="ocsforge_color_delimiter"| ( >>int <<span class="ocsforge_color_delimiter"| -> >> int <<span class="ocsforge_color_delimiter"| -> >> unit<<span class="ocsforge_color_delimiter"| ) >> <<span class="ocsforge_color_delimiter"| -> >>\\  <<span class="ocsforge_color_label"| ?contents: >>[< `Blob of ~#<<span class="ocsforge_color_uid"|Js_of_ocaml>><<span class="ocsforge_color_delimiter"| . >><<span class="ocsforge_color_uid"|File>><<span class="ocsforge_color_delimiter"| . >><<span class="ocsforge_color_lid"|blob>> <<span class="ocsforge_color_uid"|Js_of_ocaml>><<span class="ocsforge_color_delimiter"| . >><<span class="ocsforge_color_uid"|Js>><<span class="ocsforge_color_delimiter"| . >><<span class="ocsforge_color_lid"|t>>\\             | `Form_contents of <<span class="ocsforge_color_uid"|Js_of_ocaml>><<span class="ocsforge_color_delimiter"| . >><<span class="ocsforge_color_uid"|Form>><<span class="ocsforge_color_delimiter"| . >><<span class="ocsforge_color_lid"|form_contents>>\\             | `POST_form of <<span class="ocsforge_color_delimiter"| ( >>string * <<span class="ocsforge_color_uid"|Js_of_ocaml>><<span class="ocsforge_color_delimiter"| . >><<span class="ocsforge_color_uid"|Form>><<span class="ocsforge_color_delimiter"| . >><<span class="ocsforge_color_lid"|form_elt>><<span class="ocsforge_color_delimiter"| ) >> list\\             | `String of string ] <<span class="ocsforge_color_delimiter"| -> >>\\  <<span class="ocsforge_color_label"| ?override_mime_type: >>string <<span class="ocsforge_color_delimiter"| -> >>\\  <<span class="ocsforge_color_label"| ?override_method: >>[< `DELETE\\                    | `GET\\                    | `HEAD\\                    | `OPTIONS\\                    | `PATCH\\                    | `POST\\                    | `PUT ] <<span class="ocsforge_color_delimiter"| -> >>\\  <<span class="ocsforge_color_label"| ?with_credentials: >>bool <<span class="ocsforge_color_delimiter"| -> >>\\  <<span class="ocsforge_color_uid"|Js_of_ocaml>><<span class="ocsforge_color_delimiter"| . >><<span class="ocsforge_color_uid"|Url>><<span class="ocsforge_color_delimiter"| . >><<span class="ocsforge_color_lid"|url>> <<span class="ocsforge_color_delimiter"| -> >> <<a_api text="http_frame" | type Lwt_xmlHttpRequest.http_frame >> <<span class="ocsforge_color_uid"|Lwt>><<span class="ocsforge_color_delimiter"| . >><<span class="ocsforge_color_lid"|t>>>>>><<div class="odocwiki_info"|<<span class="odocwiki_inlinecode"|perform>> is the same as <<a_api | val Lwt_xmlHttpRequest.perform_raw_url >> except that the ~Url argument has type
      <<a_api | type Url.url >>~.
>>
<<pre id="VALget" class="ocsforge_color odocwiki_code"|<<span class="ocsforge_color_keyword"|val>> <<span class="odocwiki_name"|get>> <<span class="ocsforge_color_delimiter"|~:>> <<span class="odocwiki_type"|string <<span class="ocsforge_color_delimiter"| -> >> <<a_api text="http_frame" | type Lwt_xmlHttpRequest.http_frame >> <<span class="ocsforge_color_uid"|Lwt>><<span class="ocsforge_color_delimiter"| . >><<span class="ocsforge_color_lid"|t>>>>>><<div class="odocwiki_info"|<<span class="odocwiki_inlinecode"|get url>> makes an asynchronous request to the specified <<span class="odocwiki_inlinecode"|url>>
>>
